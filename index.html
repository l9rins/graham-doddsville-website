<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Graham and Doddsville - Premier source of value investing information in Australia. Educational resources, articles, and insights for intelligent stock market investing.">
    <title>Graham and Doddsville - Value Investing Education Australia</title>
    <link rel="stylesheet" href="styles.css?v=2.9&t=20241222">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Georgia,serif&family=Arial,sans-serif&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header sticky-header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <h1>Graham & Doddsville</h1>
                </div>
                <nav class="main-nav">
                    <ul>
                        <li class="mega-menu-item">
                            <a href="#news">NEWS</a>
                            <div class="mega-menu">
                                <div class="mega-menu-column">
                                    <h4>Latest News</h4>
                                    <a href="#companies">Companies</a>
                                    <a href="#markets">Markets</a>
                                    <a href="#economy">Economy</a>
                                    <a href="#industry">Industry</a>
                                </div>
                                <div class="mega-menu-column">
                                    <h4>Around the World</h4>
                                    <a href="#us-markets">US Markets</a>
                                    <a href="#europe">Europe</a>
                                    <a href="#asia">Asia</a>
                                </div>
                            </div>
                        </li>
                        <li class="mega-menu-item">
                            <a href="#articles">ARTICLES</a>
                            <div class="mega-menu">
                                <div class="mega-menu-column">
                                    <h4>Feature Articles</h4>
                                    <a href="#investing">Investing</a>
                                    <a href="#economy">Economy</a>
                                    <a href="#industry">Industry</a>
                                </div>
                                <div class="mega-menu-column">
                                    <h4>Classic Readings</h4>
                                    <a href="#buffett">Warren Buffett</a>
                                    <a href="#graham">Benjamin Graham</a>
                                    <a href="#munger">Charlie Munger</a>
                                </div>
                            </div>
                        </li>
                        <li class="mega-menu-item">
                            <a href="#videos">VIDEOS</a>
                            <div class="mega-menu">
                                <div class="mega-menu-column">
                                    <h4>Educational</h4>
                                    <a href="#value-investing">Value Investing</a>
                                    <a href="#portfolio">Portfolio Management</a>
                                    <a href="#analysis">Market Analysis</a>
                                </div>
                            </div>
                        </li>
                        <li class="mega-menu-item">
                            <a href="#tools">TOOLS</a>
                            <div class="mega-menu">
                                <div class="mega-menu-column">
                                    <h4>Calculators</h4>
                                    <a href="#portfolio-builder">Portfolio Builder</a>
                                    <a href="#valuation">Valuation Metrics</a>
                                    <a href="#retirement">Retirement Planning</a>
                                </div>
                            </div>
                        </li>
                        <li><a href="#about">ABOUT</a></li>
                        <li><a href="#contact">CONTACT</a></li>
                    </ul>
                </nav>
                
                <div class="header-search">
                    <input type="text" placeholder="Search investments, articles..." class="global-search-input">
                    <button class="search-btn">üîç</button>
                </div>
                <div class="mobile-menu-toggle" id="mobile-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>
    </header>

    <!-- Secondary Navigation -->
    <nav class="secondary-nav">
        <div class="container">
            <ul class="secondary-nav-list">
                <li><a href="#wealth-creation">Wealth Creation</a></li>
                <li><a href="#legal-taxation">Legal & Taxation</a></li>
                <li><a href="#financial-markets">Financial Markets</a></li>
                <li><a href="#share-investing">Share Investing</a></li>
                <li><a href="#greatest-investors">Greatest Investors</a></li>
                <li><a href="#investment-analysis">Investment Analysis</a></li>
                <li><a href="#economics">Economics</a></li>
                <li><a href="#professional-advisers">Professional Advisers</a></li>
                <li><a href="#financial-products">Financial Products</a></li>
                <li><a href="#resources">Resources</a></li>
                <li><a href="#events">Events</a></li>
            </ul>
        </div>
    </nav>

    <!-- Date Display -->
    <div class="date-display">
        <div class="container">
            <span id="current-date"></span>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <div class="content-wrapper">
                <!-- Left Column - Latest News -->
                <div class="left-column">
                    <!-- Latest News Section -->
                    <section class="latest-news" id="home">
                        <h2>###### LATEST NEWS</h2>
                        <div class="news-filters">
                            <span class="filter-label">Filter by:</span>
                            <a href="#" class="filter-link active" data-category="all">All</a>
                            <a href="#" class="filter-link" data-category="companies">Companies</a>
                            <a href="#" class="filter-link" data-category="markets">Markets</a>
                            <a href="#" class="filter-link" data-category="economy">Economy</a>
                            <a href="#" class="filter-link" data-category="industry">Industry</a>
                        </div>
                        <div class="news-list" id="news-list">
                            <!-- News items will be loaded here -->
                        </div>
                        
                        <!-- Professional News Categories Grid -->
                        <div class="news-categories-grid">
                            <div class="news-category-card companies">
                                <div class="category-header">
                                <h3>Companies</h3>
                                </div>
                                <ul class="news-links">
                                    <li><a href="https://www.skynews.com.au/australia-news/politics/wheres-the-debate-gone-andrew-bolt-responds-to-political-criticism" target="_blank">'Where's the debate gone?': Andrew Bolt re... (Sky)</a></li>
                                    <li><a href="https://www.skynews.com.au/business/cutting-rates-significantly-big-banks-announce-interest-rate-changes" target="_blank">'Cutting rates significantly': Big bank's ... (Sky)</a></li>
                                    <li><a href="https://www.skynews.com.au/business/asx-200-ends-the-day-down-by-036-per-cent" target="_blank">ASX 200 ends the day down by 0.36 per cent... (Sky)</a></li>
                                    <li><a href="https://www.smh.com.au/business/companies/suvo-to-tap-indonesian-nickel-waste-stream" target="_blank">Suvo to tap Indonesian nickel waste stream... (SMH)</a></li>
                                    <li><a href="https://www.skynews.com.au/business/rupert-murdoch-to-appeal-family-trust-ruling" target="_blank">Rupert Murdoch to appeal family trust ruli... (Sky)</a></li>
                                    <li><a href="https://www.skynews.com.au/business/narrow-path-rba-governor-speaks-out-after-rate-decision" target="_blank">'Narrow path': RBA Governor speaks out aft... (Sky)</a></li>
                                </ul>
                            </div>
                            
                            <div class="news-category-card markets">
                                <div class="category-header">
                                <h3>Markets</h3>
                                </div>
                                <ul class="news-links">
                                    <li><a href="https://www.afr.com/companies/financial-services/meet-the-australian-fundies-making-a-motza" target="_blank">Meet the Australian fundies making a motza... (AFR)</a></li>
                                    <li><a href="https://www.afr.com/markets/equity-markets/asx-to-slip-wall-st-edge-down-with-payroll-data" target="_blank">ASX to slip, Wall St edge down with payrol... (AFR)</a></li>
                                    <li><a href="https://www.afr.com/markets/commodities/opec-delays-oil-output-hike-until-april" target="_blank">OPEC+ delays oil output hike until April, ... (AFR)</a></li>
                                    <li><a href="https://www.news.com.au/national/politics/outgoing-senators-new-job-revealed" target="_blank">Outgoing senator's new job revealed (News)</a></li>
                                    <li><a href="https://www.news.com.au/business/big-miner-issues-blunt-warning-to-aussies" target="_blank">Big miner issues blunt warning to Aussies (News)</a></li>
                                    <li><a href="https://www.news.com.au/business/asx-snaps-three-day-winning-streak" target="_blank">ASX snaps three day winning streak (News)</a></li>
                                </ul>
                            </div>
                            
                            <div class="news-category-card economy">
                                <div class="category-header">
                                <h3>Economy</h3>
                                </div>
                                <ul class="news-links">
                                    <li><a href="https://www.9news.com.au/business/massive-us-federal-reserve-decision-signals" target="_blank">Massive US Federal Reserve decision signal... (Nine)</a></li>
                                    <li><a href="https://www.smh.com.au/business/how-donald-trump-will-change-how-the-world" target="_blank">How Donald Trump will change how the world... (SMH)</a></li>
                                    <li><a href="https://www.abc.net.au/news/2024-12-19/rba-maintains-cautious-stance-on-rates" target="_blank">RBA maintains cautious stance on rates (ABC)</a></li>
                                    <li><a href="https://www.afr.com/economy/inflation-data-shows-mixed-signals" target="_blank">Inflation data shows mixed signals (AFR)</a></li>
                                    <li><a href="#">Employment figures exceed expectations (SMH)</a></li>
                                    <li><a href="https://www.theaustralian.com.au/business/gdp-growth-revised-upward" target="_blank">GDP growth revised upward (The Australian)</a></li>
                                </ul>
                            </div>
                            
                            <div class="news-category-card industry">
                                <div class="category-header">
                                <h3>Industry</h3>
                                </div>
                                <ul class="news-links">
                                    <li><a href="https://www.moneymanagement.com.au/news/rba-makes-final-2024-rate-call" target="_blank">RBA makes final 2024 rate call (MM)</a></li>
                                    <li><a href="https://www.moneymanagement.com.au/news/perpetual-kkr-deal-in-doubt-amid-significant" target="_blank">Perpetual/KKR deal in doubt amid significa... (MM)</a></li>
                                    <li><a href="https://www.moneymanagement.com.au/news/former-pendal-ceo-joins-dnr-capital-board" target="_blank">Former Pendal CEO joins DNR Capital board (MM)</a></li>
                                    <li><a href="https://www.moneymanagement.com.au/news/former-amp-advice-exec-steps-back-as-fscp" target="_blank">Former AMP advice exec steps back as FSCP ... (MM)</a></li>
                                    <li><a href="#">Employee development at the fore as compet... (MM)</a></li>
                                    <li><a href="#">Settlement reached in Caddick auditor clas... (MM)</a></li>
                                </ul>
                            </div>
                        </div>
                    </section>
                </div>

                <!-- Center Column - Feature Articles -->
                <div class="center-column">
                    <!-- Feature Articles -->
                    <section class="feature-articles">
                        <h2>###### FEATURE ARTICLES</h2>
                        <div class="article-filters">
                            <span class="filter-label">Filter by:</span>
                            <a href="#" class="filter-link active" data-topic="all">All</a>
                            <a href="#" class="filter-link" data-topic="investing">Investing</a>
                            <a href="#" class="filter-link" data-topic="economy">Economy</a>
                            <a href="#" class="filter-link" data-topic="industry">Industry</a>
                            <a href="#" class="filter-link" data-topic="super">Super</a>
                            <a href="#" class="filter-link" data-topic="misc">Misc</a>
                        </div>
                        <div class="articles-list">
                            <article class="article-item">
                                <h3><a href="#">The Future of Value Investing in Australian Markets</a></h3>
                                <p>An in-depth analysis of how traditional value investing principles apply to modern Australian equity markets...</p>
                                <div class="article-meta">
                                    <span class="date">Dec 22, 2024</span>
                                    <span class="category">Investing</span>
                                </div>
                            </article>
                            <article class="article-item">
                                <h3><a href="#">Benjamin Graham's Principles in the Digital Age</a></h3>
                                <p>How the father of value investing's timeless principles remain relevant in today's technology-driven markets...</p>
                                <div class="article-meta">
                                    <span class="date">Dec 20, 2024</span>
                                    <span class="category">Investing</span>
                                </div>
                            </article>
                            <article class="article-item">
                                <h3><a href="#">RBA Interest Rate Decisions and Market Impact</a></h3>
                                <p>Analysis of recent Reserve Bank decisions and their implications for Australian investors...</p>
                                <div class="article-meta">
                                    <span class="date">Dec 18, 2024</span>
                                    <span class="category">Economy</span>
                                </div>
                            </article>
                        </div>
                    </section>
                </div>

                <!-- Right Column - Around the World & Classic Readings -->
                <div class="right-column">
                    <!-- Around the World -->
                    <section class="around-world">
                        <h2>###### AROUND THE WORLD</h2>
                        <div class="world-news">
                            <article class="world-item">
                                <h4><a href="#">US Federal Reserve Maintains Hawkish Stance</a></h4>
                                <p>Federal Reserve officials signal continued vigilance on inflation despite recent improvements...</p>
                            </article>
                            <article class="world-item">
                                <h4><a href="#">European Markets Show Resilience</a></h4>
                                <p>European equity markets demonstrate strength despite ongoing geopolitical concerns...</p>
                            </article>
                            <article class="world-item">
                                <h4><a href="#">Asian Markets React to China Policy Changes</a></h4>
                                <p>Regional markets respond to latest policy announcements from Beijing...</p>
                            </article>
                        </div>
                    </section>

                    <!-- Classic Readings -->
                    <section class="classic-readings">
                        <h2>###### CLASSIC READINGS</h2>
                        <ol class="readings-list">
                            <li><a href="#">Warren Buffett's Partnership Letters (1957 to 1970)</a></li>
                            <li><a href="#">Warren Buffett's Unpublished Letters to Berkshire Shareholders (1969 to 1976)</a></li>
                            <li><a href="#">Warren Buffett's Letters to Berkshire Shareholders (1977 to present day)</a></li>
                            <li><a href="#">Berkshire Hathaway Owner's Manual (1999)</a></li>
                            <li><a href="#">The Superinvestors of Graham and Doddsville (1984)</a></li>
                            <li><a href="#">Benjamin Graham Lectures on Current Problems in Security Analysis (1946 & 1947)</a></li>
                            <li><a href="#">Graham-Newman Partnership Letters (1946 to 1958)</a></li>
                            <li><a href="#">Should Rich Corporations Return Stockholders' Cash? (Benjamin Graham 1932)</a></li>
                            <li><a href="#">Should Rich But Losing Corporations be Liquidated? (Benjamin Graham 1932)</a></li>
                            <li><a href="#">Selling America for 50 Cents on the Dollar (Benjamin Graham 1932)</a></li>
                            <li><a href="#">Special Situations (Benjamin Graham 1946)</a></li>
                            <li><a href="#">Valuation Techniques (Benjamin Graham 1947)</a></li>
                            <li><a href="#">The Security I Like Best (Warren Buffett 1951)</a></li>
                            <li><a href="#">Toward a Science of Security Analysis (Benjamin Graham 1952)</a></li>
                            <li><a href="#">Testimony on the Committee on Banking and Currency, United States Senate (Benjamin Graham 1955)</a></li>
                            <li><a href="#">How to Handle Your Money (Benjamin Graham 1955)</a></li>
                            <li><a href="#">The New Speculation in Common Stocks (Benjamin Graham 1958)</a></li>
                            <li><a href="#">Stock Market Warning: Danger Ahead (Benjamin Graham 1960)</a></li>
                            <li><a href="#">Letter to the Editor (Warren Buffett 1962)</a></li>
                            <li><a href="#">Renaissance of Value (Benjamin Graham 1974)</a></li>
                            <li><a href="#">The Future of Common Stocks (Benjamin Graham 1974)</a></li>
                            <li><a href="#">The Simplest Way to Select Bargain Stocks (Benjamin Graham 1976)</a></li>
                            <li><a href="#">An Hour With Mr Graham (1976)</a></li>
                            <li><a href="#">A Conversation with Benjamin Graham (1976)</a></li>
                        </ol>
                    </section>

                    <!-- Events & Seminars -->
                    <section class="events-section">
                        <h2>EVENTS & SEMINARS</h2>
                        <div class="event-filters">
                            <div class="filter-group">
                                <label for="event-state-filter">State:</label>
                                <select id="event-state-filter" aria-label="Filter events by state">
                                    <option value="">All States</option>
                                    <option value="QLD">QLD</option>
                                    <option value="NSW">NSW</option>
                                    <option value="ACT">ACT</option>
                                    <option value="TAS">TAS</option>
                                    <option value="SA">SA</option>
                                    <option value="WA">WA</option>
                                    <option value="NT">NT</option>
                                    <option value="VIC">VIC</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label for="event-format-filter">Format:</label>
                                <select id="event-format-filter" aria-label="Filter events by format">
                                    <option value="">All Formats</option>
                                    <option value="seminar">Seminar</option>
                                    <option value="discussion">Discussion</option>
                                    <option value="conference">Conference</option>
                                    <option value="webinar">Webinar</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label for="event-cost-filter">Cost:</label>
                                <select id="event-cost-filter" aria-label="Filter events by cost">
                                    <option value="">All Costs</option>
                                    <option value="free">Free</option>
                                    <option value="paid">Paid</option>
                                </select>
                            </div>
                        </div>
                        <div class="events-list">
                            <div class="event-item" data-state="VIC" data-format="seminar" data-cost="paid">
                                <h4>Value Investing Masterclass</h4>
                                <p>Melbourne, VIC - Jan 15, 2025</p>
                                <span class="event-cost">$299</span>
                            </div>
                            <div class="event-item" data-state="NSW" data-format="seminar" data-cost="paid">
                                <h4>Graham & Dodd Principles Workshop</h4>
                                <p>Sydney, NSW - Jan 22, 2025</p>
                                <span class="event-cost">$199</span>
                            </div>
                            <div class="event-item" data-state="QLD" data-format="seminar" data-cost="free">
                                <h4>Portfolio Analysis Seminar</h4>
                                <p>Brisbane, QLD - Feb 5, 2025</p>
                                <span class="event-cost">Free</span>
                            </div>
                            <div class="event-item" data-state="WA" data-format="webinar" data-cost="free">
                                <h4>Market Analysis Discussion</h4>
                                <p>Perth, WA - Feb 12, 2025</p>
                                <span class="event-cost">Free</span>
                            </div>
                            <div class="event-item" data-state="SA" data-format="conference" data-cost="paid">
                                <h4>Investment Conference 2025</h4>
                                <p>Adelaide, SA - Mar 8, 2025</p>
                                <span class="event-cost">$450</span>
                            </div>
                        </div>
                        <p class="see-more"><a href="#">...More</a></p>
                    </section>

                    <!-- Market Quotes -->
                    <section class="market-quotes">
                        <h2>MARKET DATA</h2>
                        <div class="market-controls">
                            <div class="market-tabs">
                                <button class="tab-btn active" data-tab="indices">Indices</button>
                                <button class="tab-btn" data-tab="commodities">Commodities</button>
                                <button class="tab-btn" data-tab="currencies">Currencies</button>
                            </div>
                            <div class="time-range-toggles">
                                <button class="time-btn active" data-range="1D">1D</button>
                                <button class="time-btn" data-range="1W">1W</button>
                                <button class="time-btn" data-range="1M">1M</button>
                                <button class="time-btn" data-range="1Y">1Y</button>
                            </div>
                            </div>
                        <div class="market-table-container" id="indices-tab">
                            <!-- Interactive Chart -->
                            <div class="market-chart-container">
                                <canvas id="market-chart" width="400" height="200"></canvas>
                            </div>
                            
                            <table class="market-table" data-sortable>
                                <thead>
                                    <tr>
                                        <th class="sortable" data-sort="symbol" aria-label="Sort by symbol">Symbol</th>
                                        <th class="sortable" data-sort="price" aria-label="Sort by price">Price</th>
                                        <th class="sortable" data-sort="change" aria-label="Sort by change">Change</th>
                                        <th class="sortable" data-sort="volume" aria-label="Sort by volume">Volume</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="symbol">ASX 200</td>
                                        <td class="price">8,809.30</td>
                                        <td class="change positive">+0.11%</td>
                                        <td class="volume">2.1B</td>
                                    </tr>
                                    <tr>
                                        <td class="symbol">S&P 500</td>
                                        <td class="price">6,664.36</td>
                                        <td class="change positive">+0.49%</td>
                                        <td class="volume">3.8B</td>
                                    </tr>
                                    <tr>
                                        <td class="symbol">NASDAQ</td>
                                        <td class="price">22,631.48</td>
                                        <td class="change positive">+0.72%</td>
                                        <td class="volume">4.2B</td>
                                    </tr>
                                    <tr>
                                        <td class="symbol">Nikkei 225</td>
                                        <td class="price">45,578.68</td>
                                        <td class="change positive">+1.18%</td>
                                        <td class="volume">1.9B</td>
                                    </tr>
                                </tbody>
                            </table>
                            </div>
                        <div class="market-table-container" id="commodities-tab" style="display: none;">
                            <table class="market-table" data-sortable>
                                <thead>
                                    <tr>
                                        <th class="sortable" data-sort="symbol" aria-label="Sort by symbol">Symbol</th>
                                        <th class="sortable" data-sort="price" aria-label="Sort by price">Price</th>
                                        <th class="sortable" data-sort="change" aria-label="Sort by change">Change</th>
                                        <th class="sortable" data-sort="volume" aria-label="Sort by volume">Volume</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="symbol">Gold</td>
                                        <td class="price">$2,045.67</td>
                                        <td class="change positive">+12.45</td>
                                        <td class="volume">1.2M</td>
                                    </tr>
                                    <tr>
                                        <td class="symbol">Oil</td>
                                        <td class="price">$78.23</td>
                                        <td class="change negative">-1.45</td>
                                        <td class="volume">2.8M</td>
                                    </tr>
                                    <tr>
                                        <td class="symbol">Silver</td>
                                        <td class="price">$24.56</td>
                                        <td class="change positive">+0.23</td>
                                        <td class="volume">850K</td>
                                    </tr>
                                    <tr>
                                        <td class="symbol">Copper</td>
                                        <td class="price">$4.12</td>
                                        <td class="change positive">+0.08</td>
                                        <td class="volume">1.5M</td>
                                    </tr>
                                </tbody>
                            </table>
                            </div>
                        <div class="market-table-container" id="currencies-tab" style="display: none;">
                            <table class="market-table" data-sortable>
                                <thead>
                                    <tr>
                                        <th class="sortable" data-sort="symbol" aria-label="Sort by symbol">Symbol</th>
                                        <th class="sortable" data-sort="price" aria-label="Sort by price">Price</th>
                                        <th class="sortable" data-sort="change" aria-label="Sort by change">Change</th>
                                        <th class="sortable" data-sort="volume" aria-label="Sort by volume">Volume</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="symbol">AUD/USD</td>
                                        <td class="price">0.6789</td>
                                        <td class="change negative">-0.0023</td>
                                        <td class="volume">850K</td>
                                    </tr>
                                    <tr>
                                        <td class="symbol">EUR/USD</td>
                                        <td class="price">1.0845</td>
                                        <td class="change positive">+0.0012</td>
                                        <td class="volume">1.2M</td>
                                    </tr>
                                    <tr>
                                        <td class="symbol">GBP/USD</td>
                                        <td class="price">1.2654</td>
                                        <td class="change negative">-0.0034</td>
                                        <td class="volume">950K</td>
                                    </tr>
                                    <tr>
                                        <td class="symbol">USD/JPY</td>
                                        <td class="price">149.23</td>
                                        <td class="change positive">+0.45</td>
                                        <td class="volume">1.8M</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </section>

                    <!-- Guru Watch -->
                    <section class="guru-watch">
                        <h2>GURU WATCH</h2>
                        <div class="guru-items">
                            <div class="guru-item">
                                <h4>Warren Buffett</h4>
                                <p>Berkshire Hathaway adds to Apple position</p>
                                <span class="guru-date">Dec 20, 2024</span>
                            </div>
                            <div class="guru-item">
                                <h4>Charlie Munger</h4>
                                <p>Comments on AI investment opportunities</p>
                                <span class="guru-date">Dec 18, 2024</span>
                            </div>
                            <div class="guru-item">
                                <h4>Howard Marks</h4>
                                <p>Latest memo on market cycles</p>
                                <span class="guru-date">Dec 15, 2024</span>
                            </div>
                        </div>
                        <p class="see-more"><a href="#">...More</a></p>
                    </section>

                    <!-- Regulatory Updates -->
                    <section class="regulatory-updates">
                        <h2>REGULATORY UPDATES</h2>
                        <div class="regulatory-items">
                            <div class="regulatory-item">
                                <h4>ASIC Updates</h4>
                                <p>New disclosure requirements for financial advisors</p>
                                <span class="reg-date">Dec 22, 2024</span>
                            </div>
                            <div class="regulatory-item">
                                <h4>APRA Guidelines</h4>
                                <p>Banking sector capital requirements review</p>
                                <span class="reg-date">Dec 20, 2024</span>
                            </div>
                            <div class="regulatory-item">
                                <h4>ATO Changes</h4>
                                <p>Superannuation contribution limits for 2025</p>
                                <span class="reg-date">Dec 18, 2024</span>
                            </div>
                        </div>
                        <p class="see-more"><a href="#">...More</a></p>
                    </section>
                </div>
            </div>

            <!-- Full Width Sections -->
            <div class="full-width-sections">
                <!-- Educational Videos -->
                    <section class="educational-videos">
                        <h2>###### EDUCATIONAL VIDEOS</h2>
                        <div class="video-filters">
                            <div class="filter-group">
                                <label for="video-investor-filter">Investor:</label>
                                <select id="video-investor-filter" aria-label="Filter videos by investor">
                                    <option value="">All Investors</option>
                                    <option value="warren-buffett">Warren Buffett</option>
                                    <option value="benjamin-graham">Benjamin Graham</option>
                                    <option value="charlie-munger">Charlie Munger</option>
                                    <option value="peter-lynch">Peter Lynch</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label for="video-topic-filter">Topic:</label>
                                <select id="video-topic-filter" aria-label="Filter videos by topic">
                                    <option value="">All Topics</option>
                                    <option value="value-investing">Value Investing</option>
                                    <option value="market-analysis">Market Analysis</option>
                                    <option value="portfolio-management">Portfolio Management</option>
                                    <option value="risk-management">Risk Management</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label for="video-period-filter">Period:</label>
                                <select id="video-period-filter" aria-label="Filter videos by time period">
                                    <option value="">All Periods</option>
                                    <option value="recent">Last 3 months</option>
                                    <option value="older">Last 6+ months</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label for="video-sort-filter">Sorted by:</label>
                                <select id="video-sort-filter" aria-label="Sort videos by date">
                                    <option value="recent">Most recent first</option>
                                    <option value="oldest">Oldest first</option>
                                </select>
                            </div>
                        </div>
                        <div class="videos-grid">
                            <!-- Featured Video (Large) -->
                            <div class="featured-video" data-investor="warren-buffett" data-topic="value-investing" data-period="recent">
                                <div class="video-thumbnail large" onclick="openVideoModal('warren-buffett-crash-warning')">
                                    <div class="play-button">‚ñ∂</div>
                                    <img src="https://via.placeholder.com/400x225/1e3a8a/ffffff?text=Warren+Buffett+Investment+Wisdom" alt="Warren Buffett Warns About Stock Market Crash">
                                    <div class="video-overlay">
                                        <span class="views">2.1M views</span>
                                    </div>
                                </div>
                                <h3><a href="#" onclick="openVideoModal('warren-buffett-crash-warning')">Warren Buffett Warns About the Potential Stock Market Crash</a></h3>
                                <p class="channel">Berkshire Hathaway</p>
                                <p class="description">The Oracle of Omaha shares his concerns about current market valuations and potential risks ahead...</p>
                            </div>
                            
                            <!-- Video Grid (Smaller Videos) -->
                            <div class="video-grid">
                                <div class="video-item" data-investor="benjamin-graham" data-topic="market-analysis" data-period="recent">
                                    <div class="video-thumbnail" onclick="openVideoModal('benjamin-graham-analysis')">
                                        <div class="play-button">‚ñ∂</div>
                                        <img src="https://via.placeholder.com/300x169/059669/ffffff?text=Benjamin+Graham+Analysis" alt="Benjamin Graham Security Analysis">
                                        <div class="video-overlay">
                                            <span class="views">850K views</span>
                                        </div>
                                    </div>
                                    <h4><a href="#" onclick="openVideoModal('benjamin-graham-analysis')">Benjamin Graham's Security Analysis Methods</a></h4>
                                    <p class="channel">Value Investing Academy</p>
                                </div>
                                <div class="video-item" data-investor="charlie-munger" data-topic="portfolio-management" data-period="older">
                                    <div class="video-thumbnail" onclick="openVideoModal('charlie-munger-portfolio')">
                                        <div class="play-button">‚ñ∂</div>
                                        <img src="https://via.placeholder.com/300x169/dc2626/ffffff?text=Charlie+Munger+Portfolio" alt="Charlie Munger Portfolio">
                                        <div class="video-overlay">
                                            <span class="views">420K views</span>
                                        </div>
                                    </div>
                                    <h4><a href="#" onclick="openVideoModal('charlie-munger-portfolio')">Charlie Munger on Portfolio Concentration</a></h4>
                                    <p class="channel">Berkshire Insights</p>
                                </div>
                                
                                <div class="video-item" data-investor="peter-lynch" data-topic="risk-management" data-period="recent">
                                    <div class="video-thumbnail" onclick="openVideoModal('peter-lynch-risk')">
                                        <div class="play-button">‚ñ∂</div>
                                        <img src="https://via.placeholder.com/300x169/7c3aed/ffffff?text=Peter+Lynch+Risk+Management" alt="Peter Lynch Risk Management">
                                        <div class="video-overlay">
                                            <span class="views">680K views</span>
                                        </div>
                                    </div>
                                    <h4><a href="#" onclick="openVideoModal('peter-lynch-risk')">Peter Lynch on Risk Management</a></h4>
                                    <p class="channel">Investment Masters</p>
                                </div>
                                
                                <div class="video-item" data-investor="warren-buffett" data-topic="value-investing" data-period="recent">
                                    <div class="video-thumbnail" onclick="openVideoModal('warren-buffett-annual-meeting')">
                                        <div class="play-button">‚ñ∂</div>
                                        <img src="https://via.placeholder.com/300x169/1e3a8a/ffffff?text=Warren+Buffett+Annual+Meeting" alt="Warren Buffett Annual Meeting">
                                        <div class="video-overlay">
                                            <span class="views">1.2M views</span>
                                        </div>
                                    </div>
                                    <h4><a href="#" onclick="openVideoModal('warren-buffett-annual-meeting')">Warren Buffett's 2024 Annual Meeting Highlights</a></h4>
                                    <p class="channel">Berkshire Hathaway</p>
                                </div>
                                
                            </div>
                        </div>
                    </section>

                    <!-- Book Feature -->
                    <section class="book-feature">
                        <h2>###### BOOK FEATURE</h2>
                        <div class="featured-books">
                            <div class="featured-book">
                                <div class="book-cover">
                                    <img src="https://via.placeholder.com/300x400/0066cc/ffffff?text=Charlie+Munger" alt="Charlie Munger: The Complete Investor">
                                </div>
                                <div class="book-details">
                                    <h3>Charlie Munger: The Complete Investor</h3>
                                    <p class="book-author">by Tren Griffin</p>
                                    <p class="book-year">2017</p>
                                    <p class="book-publisher">Columbia Business School Publishing</p>
                                    <p class="book-subject">Investing</p>
                                    <p class="book-description">Describes Charlie Munger as Berkshire Hathaway's visionary vice chairman and Warren Buffett's indispensable financial partner, known for outperforming market indexes and believing any investor can do the same through "elementary, worldly wisdom" and interdisciplinary mental models.</p>
                                    <div class="book-reviews">
                                        <p><strong>Reviews:</strong> "A very interesting book, more about principles of value investing, and definitely worth a read."</p>
                                        <p><strong>Source:</strong> Amazon</p>
                                    </div>
                                    <div class="book-price">
                                        <span class="price">$24.61</span>
                                        <a href="#" class="btn-primary">BUY NOW (Amazon)</a>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="featured-book">
                                <div class="book-cover">
                                    <img src="https://via.placeholder.com/300x400/0066cc/ffffff?text=Warren+Buffett" alt="Trade Like Warren Buffett">
                                </div>
                                <div class="book-details">
                                    <h3>Trade Like Warren Buffett</h3>
                                    <p class="book-author">by James Altucher</p>
                                    <p class="book-year">2005</p>
                                    <p class="book-publisher">Wiley</p>
                                    <p class="book-subject">Investing</p>
                                    <p class="book-description">States that the book challenges current coverage of this great investor by including details of all of his strategies.</p>
                                    <div class="book-price">
                                        <span class="price">$18.99</span>
                                        <a href="#" class="btn-primary">BUY NOW (Amazon)</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Recommended Books -->
                    <section class="recommended-books">
                        <h2>###### RECOMMENDED BOOKS</h2>
                        <div class="books-categories">
                            <div class="book-category">
                                <h3>Buffett, Munger & Berkshire</h3>
                                <ul class="book-links">
                                    <li><a href="#">Poor Charlie's Almanack</a></li>
                                    <li><a href="#">The Snowball</a></li>
                                    <li><a href="#">Damn Right!</a></li>
                                    <li><a href="#">Buffett: The Making of An American Capitalist</a></li>
                                    <li><a href="#">The Essays of Warren Buffett: Lessons for Corporate America</a></li>
                                    <li><a href="#">Of Permanent Value</a></li>
                                    <li><a href="#">The Warren Buffett Way</a></li>
                                </ul>
                            </div>
                            
                            <div class="book-category">
                                <h3>Value Investing</h3>
                                <ul class="book-links">
                                    <li><a href="#">The Little Book That Beats the Market</a></li>
                                    <li><a href="#">The Little Book of Value Investing</a></li>
                                    <li><a href="#">Benjamin Graham On Value Investing: Lessons from the Dean of Wall Street</a></li>
                                    <li><a href="#">The Intelligent Investor (3rd ed)</a></li>
                                    <li><a href="#">Modern Value Investing</a></li>
                                    <li><a href="#">Security Analysis (7th ed)</a></li>
                                </ul>
                            </div>
                            
                            <div class="book-category">
                                <h3>Share Investing</h3>
                                <ul class="book-links">
                                    <li><a href="#">How to Make Money in Stocks: A Winning System in Good Times and Bad</a></li>
                                    <li><a href="#">Paths to Wealth through Common Stocks</a></li>
                                    <li><a href="#">One Up On Wall Street: How To Use What You Already Know To Make Money In The Market</a></li>
                                    <li><a href="#">Common Sense on Mutual Funds</a></li>
                                </ul>
                            </div>
                            
                            <div class="book-category">
                                <h3>Wealth Creation</h3>
                                <ul class="book-links">
                                    <li><a href="#">I Will Teach You to Be Rich: No Guilt. No Excuses. Just a 6-Week Program That Works</a></li>
                                    <li><a href="#">The Richest Man in Babylon</a></li>
                                    <li><a href="#">Millionaire Next Door: The Surprising Secrets of America's Wealthy</a></li>
                                    <li><a href="#">The Science of Getting Rich</a></li>
                                </ul>
                            </div>
                            
                            <div class="book-category">
                                <h3>Financial Analysis</h3>
                                <ul class="book-links">
                                    <li><a href="#">Warren Buffett Accounting</a></li>
                                    <li><a href="#">Financial Shenanigans: How to Detect Accounting Gimmicks and Fraud in Financial Reports</a></li>
                                    <li><a href="#">Bemused Investor's Guide to Company Accounts</a></li>
                                    <li><a href="#">Balance Sheet Basics: Financial Management for Nonfinancial Managers</a></li>
                                </ul>
                            </div>
                            
                            <div class="book-category">
                                <h3>Sales & Marketing</h3>
                                <ul class="book-links">
                                    <li><a href="#">Ogilvy on Advertising</a></li>
                                    <li><a href="#">Confessions of an Advertising Man</a></li>
                                    <li><a href="#">Instant Cashflow</a></li>
                                    <li><a href="#">The Copy Book: How Some of the Best Advertising Writers in the World Write Their Advertising</a></li>
                                    <li><a href="#">Secrets of Successful Selling Habits</a></li>
                                </ul>
                            </div>
                        </div>
                    </section>

                    <!-- Warren Buffett on Everything -->
                    <section class="warren-buffett">
                        <h2>###### WARREN BUFFETT ON EVERYTHING</h2>
                        
                        <!-- Tab Navigation -->
                        <div class="buffett-tabs">
                            <button class="tab-btn active" data-tab="philosophy">Philosophy</button>
                            <button class="tab-btn" data-tab="concepts">Investment Concepts</button>
                            <button class="tab-btn" data-tab="bubbles">Bubbles & Crashes</button>
                            <button class="tab-btn" data-tab="investors">Great Investors</button>
                        </div>
                        
                        <!-- Tab Content -->
                        <div class="buffett-content">
                            <!-- Philosophy Tab -->
                            <div class="tab-content active" id="philosophy-tab">
                                <div class="buffett-columns">
                                    <div class="buffett-column">
                                        <div class="column-image">
                                            <img src="https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=300&h=200&fit=crop" alt="Investment Philosophy">
                                        </div>
                                        <h3>Investment Philosophy</h3>
                                        <ul class="buffett-topics">
                                            <li><a href="#">Conservatism</a></li>
                                            <li><a href="#">Investment philosophy</a></li>
                                            <li><a href="#">Investment objectives</a></li>
                                            <li><a href="#">Performance standards</a></li>
                                            <li><a href="#">Performance measurement</a></li>
                                            <li><a href="#">Berkshire disclosure</a></li>
                                            <li><a href="#">Market forecasting</a></li>
                                            <li><a href="#">Market timing</a></li>
                                            <li><a href="#">Value investing</a></li>
                                            <li><a href="#">Successful Investing</a></li>
                                            <li><a href="#">Exit Strategy</a></li>
                                            <li><a href="#">Mistakes</a></li>
                                        </ul>
                                    </div>
                                    
                                    <div class="buffett-column">
                                        <div class="column-image">
                                            <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=300&h=200&fit=crop" alt="Investment Concepts">
                                        </div>
                                        <h3>Investment Concepts</h3>
                                        <ul class="buffett-topics">
                                            <li><a href="#">Efficient Market Theory</a></li>
                                            <li><a href="#">Modern Portfolio Theory</a></li>
                                            <li><a href="#">Intrinsic value</a></li>
                                            <li><a href="#">Wall Street and Mr Market</a></li>
                                            <li><a href="#">Circle of competence</a></li>
                                            <li><a href="#">Margin of safety</a></li>
                                            <li><a href="#">Frictional costs</a></li>
                                            <li><a href="#">Capital allocation</a></li>
                                            <li><a href="#">Security analyst</a></li>
                                            <li><a href="#">Speculation</a></li>
                                            <li><a href="#">Long Term Investing</a></li>
                                        </ul>
                                    </div>
                                    
                                    <div class="buffett-column">
                                        <div class="column-image">
                                            <img src="https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=300&h=200&fit=crop" alt="Bubbles and Crashes">
                                        </div>
                                        <h3>Bubbles and Crashes</h3>
                                        <ul class="buffett-topics">
                                            <li><a href="#">Market bubble</a></li>
                                            <li><a href="#">Market crash</a></li>
                                            <li><a href="#">Market psychology</a></li>
                                            <li><a href="#">Fear and greed</a></li>
                                            <li><a href="#">Market cycles</a></li>
                                            <li><a href="#">Economic bubbles</a></li>
                                            <li><a href="#">Recovery strategies</a></li>
                                        </ul>
                                    </div>
                                    
                                    <div class="buffett-column">
                                        <div class="column-image">
                                            <img src="https://images.unsplash.com/photo-1554224155-8d04cb21cd6c?w=300&h=200&fit=crop" alt="Great Investors">
                                        </div>
                                        <h3>Great Investors</h3>
                                        <ul class="buffett-topics">
                                            <li><a href="#">Benjamin Graham</a></li>
                                            <li><a href="#">David Dodd</a></li>
                                            <li><a href="#">Charlie Munger</a></li>
                                            <li><a href="#">Philip Fisher</a></li>
                                            <li><a href="#">Peter Lynch</a></li>
                                            <li><a href="#">John Templeton</a></li>
                                            <li><a href="#">Seth Klarman</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                </div>
            </div>
        </div>
    </main>

    <!-- Video Modal -->
    <div id="videoModal" class="video-modal">
        <div class="video-modal-content">
            <span class="video-modal-close" onclick="closeVideoModal()">&times;</span>
            <div class="video-container">
                <iframe id="videoPlayer" width="100%" height="400" src="" frameborder="0" allowfullscreen></iframe>
            </div>
            <div class="video-info">
                <h3 id="videoTitle"></h3>
                <p id="videoDescription"></p>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>ABOUT US</h3>
                    <p>Graham and Doddsville is the premier source of value investing information in Australia. Our aim is to help educate individual investors on intelligent investing in the stockmarket.</p>
                    <p>We offer the most comprehensive source of investment-related information, including book recommendations, educational videos, articles, biographies and virtually anything you can think of that has anything to do with value investing</p>
                    <div class="contact-info">
                        <p><strong>Graham and Doddsville Pty Ltd</strong></p>
                        <p>ACN 670 651 877</p>
                        <p><strong>HEAD OFFICE</strong></p>
                        <p>Gold Tower<br>
                        Level 19<br>
                        10 Eagle Street<br>
                        Brisbane Queensland<br>
                        Australia 4000</p>
                        <p>Telephone: (07) 3303 0843<br>
                        Facsimile: (07) 3383 0842<br>
                        Email: info@grahamanddoddsville.com.au</p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="news-scraper.js?v=2.12&t=20241222&force=1"></script>
    <script>
            // Display current date
        document.addEventListener('DOMContentLoaded', function() {
            const now = new Date();
            const options = { 
                weekday: 'short', 
                year: 'numeric', 
                month: 'short', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                timeZone: 'Australia/Sydney',
                timeZoneName: 'short'
            };
            document.getElementById('current-date').textContent = now.toLocaleDateString('en-AU', options);
            
            // Initialize market chart
            initializeMarketChart();
            
            // Initialize lazy loading
            initializeLazyLoading();
        });

        // Lazy loading implementation
        function initializeLazyLoading() {
            const images = document.querySelectorAll('img[data-src]');
            const imageObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        img.src = img.dataset.src;
                        img.classList.remove('lazy');
                        imageObserver.unobserve(img);
                    }
                });
            });

            images.forEach(img => imageObserver.observe(img));
        }

        // Simple market chart implementation
        function initializeMarketChart() {
            const canvas = document.getElementById('market-chart');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            
            // Clear canvas
            ctx.clearRect(0, 0, width, height);
            
            // Generate sample data (ASX 200 over time)
            const dataPoints = [];
            const baseValue = 8800;
            let currentValue = baseValue;
            
            for (let i = 0; i < 20; i++) {
                currentValue += (Math.random() - 0.5) * 50;
                dataPoints.push({
                    x: (i / 19) * width,
                    y: height - ((currentValue - baseValue + 100) / 200) * height
                });
            }
            
            // Draw grid lines
            ctx.strokeStyle = '#e0e0e0';
            ctx.lineWidth = 1;
            for (let i = 0; i <= 4; i++) {
                const y = (i / 4) * height;
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(width, y);
                ctx.stroke();
            }
            
            // Draw chart line
            ctx.strokeStyle = '#0066cc';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(dataPoints[0].x, dataPoints[0].y);
            
            for (let i = 1; i < dataPoints.length; i++) {
                ctx.lineTo(dataPoints[i].x, dataPoints[i].y);
            }
            ctx.stroke();
            
            // Draw data points
            ctx.fillStyle = '#0066cc';
            dataPoints.forEach(point => {
                ctx.beginPath();
                ctx.arc(point.x, point.y, 3, 0, 2 * Math.PI);
                ctx.fill();
            });
            
            // Add labels
            ctx.fillStyle = '#666';
            ctx.font = '12px Arial';
            ctx.fillText('ASX 200', 10, 20);
            ctx.fillText('8,809.30', 10, 35);
            ctx.fillText('+0.11%', 10, 50);
        }

        // Mobile menu toggle
        document.getElementById('mobile-toggle').addEventListener('click', function() {
            const nav = document.querySelector('.main-nav');
            nav.classList.toggle('active');
        });

        // Mega menu functionality
        document.querySelectorAll('.mega-menu-item').forEach(item => {
            const link = item.querySelector('a');
            const megaMenu = item.querySelector('.mega-menu');
            
            // Show dropdown on hover
            item.addEventListener('mouseenter', function() {
                // Hide all other mega menus
                document.querySelectorAll('.mega-menu').forEach(menu => {
                    menu.classList.remove('show');
                });
                
                // Position the dropdown
                const rect = item.getBoundingClientRect();
                megaMenu.style.top = (rect.bottom + window.scrollY + 5) + 'px';
                megaMenu.style.left = rect.left + 'px';
                
                // Show this mega menu
                megaMenu.classList.add('show');
            });
            
            // Hide dropdown when mouse leaves
            item.addEventListener('mouseleave', function() {
                megaMenu.classList.remove('show');
            });
            
            // Keep dropdown open when hovering over the mega menu itself
            megaMenu.addEventListener('mouseenter', function() {
                megaMenu.classList.add('show');
            });
            
            megaMenu.addEventListener('mouseleave', function() {
                megaMenu.classList.remove('show');
            });
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                const href = this.getAttribute('href');
                // Only prevent default and scroll if href is not just '#'
                if (href && href !== '#') {
                e.preventDefault();
                    const target = document.querySelector(href);
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                        });
                    }
                }
            });
        });

        // Market data tabs functionality
        document.querySelectorAll('.market-tabs .tab-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const tabName = this.dataset.tab;
                
                // Remove active class from all market tab buttons
                document.querySelectorAll('.market-tabs .tab-btn').forEach(b => b.classList.remove('active'));
                // Add active class to clicked button
                this.classList.add('active');
                
                // Hide all tab content
                document.querySelectorAll('.quotes-list, .market-table-container').forEach(content => {
                    content.style.display = 'none';
                });
                
                // Show selected tab content
                const targetTab = document.getElementById(tabName + '-tab');
                if (targetTab) {
                    targetTab.style.display = 'block';
                }
            });
        });

        // Warren Buffett tabs functionality
        document.querySelectorAll('.buffett-tabs .tab-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const tabName = this.dataset.tab;
                
                // Remove active class from all Buffett tab buttons
                document.querySelectorAll('.buffett-tabs .tab-btn').forEach(b => b.classList.remove('active'));
                // Add active class to clicked button
                this.classList.add('active');
                
                // Hide all tab content
                document.querySelectorAll('.buffett-content .tab-content').forEach(content => {
                    content.classList.remove('active');
                });
                
                // Show selected tab content
                const targetTab = document.getElementById(tabName + '-tab');
                if (targetTab) {
                    targetTab.classList.add('active');
                }
            });
        });

        // Time range toggles functionality
        document.querySelectorAll('.time-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const timeRange = this.dataset.range;
                
                // Remove active class from all time buttons
                document.querySelectorAll('.time-btn').forEach(b => b.classList.remove('active'));
                // Add active class to clicked button
                this.classList.add('active');
                
                // Update market data based on time range
                updateMarketData(timeRange);
            });
        });

        // Sortable table functionality
        document.querySelectorAll('.market-table th.sortable').forEach(th => {
            th.addEventListener('click', function() {
                const table = this.closest('table');
                const tbody = table.querySelector('tbody');
                const rows = Array.from(tbody.querySelectorAll('tr'));
                const column = this.dataset.sort;
                const isAsc = this.classList.contains('sort-asc');
                
                // Remove sort classes from all headers
                table.querySelectorAll('th').forEach(h => {
                    h.classList.remove('sort-asc', 'sort-desc');
                });
                
                // Sort rows
                rows.sort((a, b) => {
                    const aVal = a.querySelector(`.${column}`).textContent;
                    const bVal = b.querySelector(`.${column}`).textContent;
                    
                    if (column === 'price' || column === 'change') {
                        const aNum = parseFloat(aVal.replace(/[,$%]/g, ''));
                        const bNum = parseFloat(bVal.replace(/[,$%]/g, ''));
                        return isAsc ? bNum - aNum : aNum - bNum;
                    } else {
                        return isAsc ? bVal.localeCompare(aVal) : aVal.localeCompare(bVal);
                    }
                });
                
                // Reorder rows in DOM
                rows.forEach(row => tbody.appendChild(row));
                
                // Add sort class to header
                this.classList.add(isAsc ? 'sort-desc' : 'sort-asc');
            });
        });

        // Global search functionality
        document.querySelector('.global-search-input').addEventListener('input', function() {
            const searchTerm = this.value.toLowerCase();
            if (searchTerm.length > 2) {
                performGlobalSearch(searchTerm);
            }
        });

        // Global search function
        function performGlobalSearch(searchTerm) {
            const results = [];
            
            // Search news items
            const newsItems = document.querySelectorAll('.news-item');
            newsItems.forEach(item => {
                const title = item.querySelector('.news-title a')?.textContent.toLowerCase() || '';
                const excerpt = item.querySelector('.news-excerpt')?.textContent.toLowerCase() || '';
                if (title.includes(searchTerm) || excerpt.includes(searchTerm)) {
                    results.push({
                        type: 'news',
                        title: item.querySelector('.news-title a')?.textContent,
                        url: item.querySelector('.news-title a')?.href,
                        excerpt: item.querySelector('.news-excerpt')?.textContent
                    });
                }
            });
            
            // Search articles
            const articles = document.querySelectorAll('.article-item');
            articles.forEach(item => {
                const title = item.querySelector('h3 a')?.textContent.toLowerCase() || '';
                const content = item.querySelector('p')?.textContent.toLowerCase() || '';
                if (title.includes(searchTerm) || content.includes(searchTerm)) {
                    results.push({
                        type: 'article',
                        title: item.querySelector('h3 a')?.textContent,
                        url: item.querySelector('h3 a')?.href,
                        excerpt: item.querySelector('p')?.textContent
                    });
                }
            });
            
            // Search videos
            const videos = document.querySelectorAll('.video-item');
            videos.forEach(item => {
                const title = item.querySelector('h4 a')?.textContent.toLowerCase() || '';
                const description = item.querySelector('p')?.textContent.toLowerCase() || '';
                if (title.includes(searchTerm) || description.includes(searchTerm)) {
                    results.push({
                        type: 'video',
                        title: item.querySelector('h4 a')?.textContent,
                        url: item.querySelector('h4 a')?.href,
                        excerpt: item.querySelector('p')?.textContent
                    });
                }
            });
            
            // Display search results (you can implement a dropdown or modal)
            console.log('Search results:', results);
            displaySearchResults(results, searchTerm);
        }

        function displaySearchResults(results, searchTerm) {
            // Create or update search results dropdown
            let resultsContainer = document.querySelector('.search-results');
            if (!resultsContainer) {
                resultsContainer = document.createElement('div');
                resultsContainer.className = 'search-results';
                document.querySelector('.header-search').appendChild(resultsContainer);
            }
            
            if (results.length === 0) {
                resultsContainer.innerHTML = '<div class="no-results">No results found for "' + searchTerm + '"</div>';
            } else {
                const resultsHTML = results.slice(0, 5).map(result => `
                    <div class="search-result-item">
                        <div class="result-type">${result.type}</div>
                        <div class="result-title"><a href="${result.url}">${result.title}</a></div>
                        <div class="result-excerpt">${result.excerpt.substring(0, 100)}...</div>
                    </div>
                `).join('');
                
                resultsContainer.innerHTML = `
                    <div class="search-results-header">Found ${results.length} results</div>
                    ${resultsHTML}
                `;
            }
            
            resultsContainer.style.display = 'block';
        }

        // Video filter functionality
        function filterVideos() {
            const investorFilter = document.getElementById('video-investor-filter').value;
            const topicFilter = document.getElementById('video-topic-filter').value;
            const periodFilter = document.getElementById('video-period-filter').value;
            const sortFilter = document.getElementById('video-sort-filter').value;
            
            const videoItems = document.querySelectorAll('.video-item');
            let visibleItems = [];
            
            videoItems.forEach(item => {
                const investor = item.dataset.investor;
                const topic = item.dataset.topic;
                const period = item.dataset.period;
                
                let show = true;
                
                if (investorFilter && investor !== investorFilter) show = false;
                if (topicFilter && topic !== topicFilter) show = false;
                if (periodFilter && period !== periodFilter) show = false;
                
                if (show) {
                    item.style.display = 'block';
                    visibleItems.push(item);
                } else {
                    item.style.display = 'none';
                }
            });
            
            // Sort visible items
            if (sortFilter === 'oldest') {
                visibleItems.sort((a, b) => {
                    const dateA = new Date(a.querySelector('.date').textContent);
                    const dateB = new Date(b.querySelector('.date').textContent);
                    return dateA - dateB;
                });
            } else {
                visibleItems.sort((a, b) => {
                    const dateA = new Date(a.querySelector('.date').textContent);
                    const dateB = new Date(b.querySelector('.date').textContent);
                    return dateB - dateA;
                });
            }
            
            // Reorder items in DOM
            const videosList = document.querySelector('.videos-list');
            visibleItems.forEach(item => {
                videosList.appendChild(item);
            });
        }
        
        // Add event listeners to video filters
        document.getElementById('video-investor-filter').addEventListener('change', filterVideos);
        document.getElementById('video-topic-filter').addEventListener('change', filterVideos);
        document.getElementById('video-period-filter').addEventListener('change', filterVideos);
        document.getElementById('video-sort-filter').addEventListener('change', filterVideos);

        // Event filter functionality
        function filterEvents() {
            const stateFilter = document.getElementById('event-state-filter').value;
            const formatFilter = document.getElementById('event-format-filter').value;
            const costFilter = document.getElementById('event-cost-filter').value;
            
            const eventItems = document.querySelectorAll('.event-item');
            
            eventItems.forEach(item => {
                const state = item.dataset.state;
                const format = item.dataset.format;
                const cost = item.dataset.cost;
                
                let show = true;
                
                if (stateFilter && state !== stateFilter) show = false;
                if (formatFilter && format !== formatFilter) show = false;
                if (costFilter && cost !== costFilter) show = false;
                
                item.style.display = show ? 'block' : 'none';
            });
        }
        
        // Add event listeners to event filters
        document.getElementById('event-state-filter').addEventListener('change', filterEvents);
        document.getElementById('event-format-filter').addEventListener('change', filterEvents);
        document.getElementById('event-cost-filter').addEventListener('change', filterEvents);

        // Load more news functionality
        function loadMoreNews() {
            if (window.newsDisplayManager) {
                window.newsDisplayManager.showMoreNews();
            } else {
                // Fallback: show alert
                alert('Loading more news...');
            }
        }

        // Enhanced "See more" functionality
        function loadMoreContent(section) {
            switch(section) {
                case 'videos':
                    loadMoreVideos();
                    break;
                case 'articles':
                    loadMoreArticles();
                    break;
                case 'books':
                    loadMoreBooks();
                    break;
                default:
                    loadMoreNews();
            }
        }

        function loadMoreVideos() {
            const videoGrid = document.querySelector('.video-grid');
            if (!videoGrid) return;
            
            // Add more video items
            const newVideos = [
                {
                    title: 'Advanced Portfolio Management Strategies',
                    investor: 'Warren Buffett',
                    topic: 'Portfolio Management',
                    period: '2024',
                    thumbnail: 'https://i.ytimg.com/vi/2MHIcabnjrA/maxresdefault.jpg',
                    views: '2.1M',
                    channel: 'Investment Academy'
                },
                {
                    title: 'Understanding Market Cycles',
                    investor: 'Charlie Munger',
                    topic: 'Market Analysis',
                    period: '2024',
                    thumbnail: 'https://i.ytimg.com/vi/2MHIcabnjrA/maxresdefault.jpg',
                    views: '1.8M',
                    channel: 'Financial Education'
                }
            ];
            
            newVideos.forEach(video => {
                const videoItem = document.createElement('div');
                videoItem.className = 'video-item';
                videoItem.innerHTML = `
                    <div class="video-thumbnail" onclick="openVideoModal('${video.thumbnail}', '${video.title}', '${video.channel}')">
                        <img src="${video.thumbnail}" alt="${video.title}">
                        <div class="play-button">‚ñ∂</div>
                    </div>
                    <h4><a href="#" target="_blank">${video.title}</a></h4>
                    <div class="video-meta">
                        <span class="channel">${video.channel}</span>
                        <span class="views">${video.views} views</span>
                    </div>
                `;
                videoGrid.appendChild(videoItem);
            });
        }

        function loadMoreArticles() {
            const articlesList = document.querySelector('.articles-list');
            if (!articlesList) return;
            
            const newArticles = [
                {
                    title: 'The Psychology of Market Timing',
                    author: 'Dr. Sarah Chen',
                    date: 'Dec 20, 2024',
                    category: 'Psychology',
                    excerpt: 'Understanding the psychological factors that influence investment decisions and market timing strategies.'
                },
                {
                    title: 'Sustainable Investing in the Digital Age',
                    author: 'Michael Torres',
                    date: 'Dec 19, 2024',
                    category: 'ESG',
                    excerpt: 'How technology is reshaping sustainable investing and creating new opportunities for impact investors.'
                }
            ];
            
            newArticles.forEach(article => {
                const articleItem = document.createElement('div');
                articleItem.className = 'article-item';
                articleItem.innerHTML = `
                    <div class="article-meta">
                        <span class="article-category">${article.category}</span>
                        <span class="article-date">${article.date}</span>
                    </div>
                    <h3><a href="#" target="_blank">${article.title}</a></h3>
                    <p class="article-author">By ${article.author}</p>
                    <p>${article.excerpt}</p>
                `;
                articlesList.appendChild(articleItem);
            });
        }

        function loadMoreBooks() {
            const booksCategories = document.querySelector('.books-categories');
            if (!booksCategories) return;
            
            // Add more books to existing categories
            const categories = booksCategories.querySelectorAll('.book-category');
            categories.forEach(category => {
                const bookLinks = category.querySelector('.book-links');
                const newBooks = [
                    'The Intelligent Investor (Revised Edition)',
                    'Security Analysis: Principles and Technique',
                    'Common Stocks and Uncommon Profits'
                ];
                
                newBooks.forEach(book => {
                    const bookLink = document.createElement('a');
                    bookLink.href = '#';
                    bookLink.textContent = book;
                    bookLink.target = '_blank';
                    bookLinks.appendChild(bookLink);
                });
            });
        }

        // Video modal functionality
        function openVideoModal(videoId) {
            const modal = document.getElementById('videoModal');
            const player = document.getElementById('videoPlayer');
            const title = document.getElementById('videoTitle');
            const description = document.getElementById('videoDescription');
            
            // Video data mapping
            const videoData = {
                'warren-buffett-crash-warning': {
                    title: 'Warren Buffett Warns About Stock Market Crash',
                    description: 'The Oracle of Omaha shares his concerns about current market valuations and potential risks ahead. Learn from his decades of experience in market cycles.',
                    url: 'https://www.youtube.com/embed/2MHIcabnjrA' // Warren Buffett video
                },
                'warren-buffett-annual-meeting': {
                    title: 'Warren Buffett\'s 2024 Annual Meeting Highlights',
                    description: 'Key insights from Berkshire Hathaway\'s annual meeting. Warren Buffett and Charlie Munger discuss current market conditions and investment opportunities.',
                    url: 'https://www.youtube.com/embed/2MHIcabnjrA' // Warren Buffett video
                },
                'warren-buffett-value-investing': {
                    title: 'Warren Buffett on Value Investing Principles',
                    description: 'Learn the fundamental principles of value investing from the Oracle of Omaha. This comprehensive video covers Buffett\'s investment philosophy, margin of safety, and long-term thinking.',
                    url: 'https://www.youtube.com/embed/2MHIcabnjrA' // Warren Buffett video
                },
                'benjamin-graham-analysis': {
                    title: 'Benjamin Graham\'s Security Analysis Methods',
                    description: 'Deep dive into the father of value investing\'s analytical framework. Learn about intrinsic value, margin of safety, and fundamental analysis techniques.',
                    url: 'https://www.youtube.com/embed/2MHIcabnjrA' // Warren Buffett video
                },
                'charlie-munger-portfolio': {
                    title: 'Charlie Munger on Portfolio Concentration',
                    description: 'Understanding the benefits of concentrated portfolios. Charlie Munger explains why having fewer, better investments often leads to superior returns.',
                    url: 'https://www.youtube.com/embed/2MHIcabnjrA' // Warren Buffett video
                },
                'peter-lynch-risk': {
                    title: 'Peter Lynch on Risk Management',
                    description: 'How to manage risk while seeking growth opportunities. Peter Lynch shares his insights on portfolio diversification and risk assessment.',
                    url: 'https://www.youtube.com/embed/2MHIcabnjrA' // Warren Buffett video
                }
            };
            
            const video = videoData[videoId];
            if (video) {
                title.textContent = video.title;
                description.textContent = video.description;
                player.src = video.url;
                modal.style.display = 'block';
            }
        }

        function closeVideoModal() {
            const modal = document.getElementById('videoModal');
            const player = document.getElementById('videoPlayer');
            modal.style.display = 'none';
            player.src = ''; // Stop video playback
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('videoModal');
            if (event.target === modal) {
                closeVideoModal();
            }
        }

        function updateMarketData(timeRange) {
            // Simulate updating market data based on time range
            console.log('Updating market data for:', timeRange);
            
            // Update all visible market tables with new data based on time range
            const tables = document.querySelectorAll('.market-table tbody');
            
            tables.forEach(table => {
                const rows = table.querySelectorAll('tr');
                rows.forEach(row => {
                    const changeCell = row.querySelector('.change');
                    if (changeCell) {
                        // Simulate different data based on time range
                        const baseValue = parseFloat(changeCell.textContent.replace(/[+%-]/g, ''));
                        let newValue;
                        
                        switch(timeRange) {
                            case '1D':
                                newValue = baseValue * (0.8 + Math.random() * 0.4); // ¬±20% variation
                                break;
                            case '1W':
                                newValue = baseValue * (0.6 + Math.random() * 0.8); // ¬±40% variation
                                break;
                            case '1M':
                                newValue = baseValue * (0.4 + Math.random() * 1.2); // ¬±60% variation
                                break;
                            case '1Y':
                                newValue = baseValue * (0.2 + Math.random() * 1.6); // ¬±80% variation
                                break;
                            default:
                                newValue = baseValue;
                        }
                        
                        const isPositive = Math.random() > 0.5;
                        const sign = isPositive ? '+' : '-';
                        const formattedValue = newValue.toFixed(2);
                        
                        changeCell.textContent = `${sign}${formattedValue}${changeCell.textContent.includes('%') ? '%' : ''}`;
                        changeCell.className = `change ${isPositive ? 'positive' : 'negative'}`;
                    }
                });
            });
        }


        // News filter functionality
        document.querySelectorAll('.filter-link').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Remove active class from all filter links in this section
                const parentSection = this.closest('section');
                parentSection.querySelectorAll('.filter-link').forEach(l => l.classList.remove('active'));
                
                // Add active class to clicked link
                this.classList.add('active');
                
                // Get filter category
                const category = this.dataset.category || this.dataset.topic;
                
                // Filter news items
                if (category && category !== 'all') {
                    const newsItems = parentSection.querySelectorAll('.news-item');
                    newsItems.forEach(item => {
                        const itemCategory = item.dataset.category || item.querySelector('.category')?.textContent?.toLowerCase();
                        if (itemCategory && itemCategory.includes(category)) {
                            item.style.display = 'block';
                        } else {
                            item.style.display = 'none';
                        }
                    });
                } else {
                    // Show all items
                    const newsItems = parentSection.querySelectorAll('.news-item');
                    newsItems.forEach(item => {
                        item.style.display = 'block';
                    });
                }
            });
        });
    </script>
</body>
</html>
